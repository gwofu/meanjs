<div id="eventsController" ng-controller="EventsController" data-ng-init="find()">
	<div class="row">
		<div class="col-md-3">
			<div class="panel-group" id="accordion">
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h4 class="panel-title">
							<a data-toggle="collapse" data-parent="#accordion" href="#collapseSettings">
								Settings
							</a>
						</h4>
					</div>
					<div id="collapseSettings" class="panel-collapse collapse">
						<div class="panel-body">
							<input type="text" ng-model="city" placeholder="city" />
							<input type="text" ng-model="state" placeholder="state" />
							<button class="btn btn-info btn-xs" ng-click="findByCityState(city, state)">Search by City</button>
						</div>
					</div>
				</div>
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h4 class="panel-title">
							<a data-toggle="collapse" data-parent="#accordion" href="#collapseOverviewMap">
								Overview Map
							</a>
						</h4>
					</div>
					<div id="collapseOverviewMap" class="panel-collapse collapse">
						<div class="panel-body">
							<input type="text" ng-model="color" placeholder="Enter a color" />
							<hello-world color="color"></hello-world>
							<div id="map-2" style="height:200px; display:none"/>
						</div>
					</div>
				</div>
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h4 class="panel-title">
							<a data-toggle="collapse" data-parent="#accordion" href="#collapseFilter">
								Filter
							</a>
						</h4>
					</div>
					<div id="collapseFilter" class="panel-collapse collapse">
						<div class="panel-body">
							<span class="glyphicon glyphicon-filter"></span>&nbsp;<input type="search" ng-model="q"placeholder="filter events" />
							<button class="btn btn-info btn-xs" ng-click="getFilteredEvents(q)">Refresh Map</button>
						</div>
					</div>
				</div>
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h4 class="panel-title">
							<a data-toggle="collapse" data-parent="#accordion" href="#collapseEvents">
								Events
							</a>
						</h4>
					</div>
					<div id="collapseEvents" class="panel-collapse collapse in">
						<div class="panel-body" style="padding: 0px">
							<div class="list-group" style="margin: 0px">
								<a data-ng-repeat="event in events | filter:q" data-toggle="collapse" href="#collapse{{$index}}" ng-click="selectEvent(event._id)" class="list-group-item">
									<h5 class="list-group-item-heading">{{event.title}}<span class="caret pull-right"></span></h5>
									<div id="collapse{{$index}}" class="collapse">
										<p class="list-group-item-text">Type: {{event.type}}</p> 
										<p class="list-group-item-text">Description: {{event.content}}</p> 
										<p class="list-group-item-text">Address: {{event.address.displayName}}</p>
										<span class="glyphicon glyphicon-time"></span>
										<small class="list-group-item-text">{{event.created | date:'medium'}}</small>
										<span class="glyphicon glyphicon-user"></span>
										<small class="list-group-item-text">{{event.user.displayName}}</small>
									</div>
								</a>
							</div>
							<div class="alert alert-warning text-center" data-ng-hide="!events || events.length">
								No events yet, why don't you <a href="/#!/events/create">create one</a>?
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-9">
			<google-map></google-map>
		</div>
	</div>
</div>